(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-specs-specs"],{"0f56":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */.spec-head[data-v-1144e31c]{font-size:%?32?%}.card-body[data-v-1144e31c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.spec-item[data-v-1144e31c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-width:%?180?%;line-height:%?60?%;border-radius:%?10?%;border:1px solid #e4e7ed}.spec-item.active[data-v-1144e31c]{color:#f29100;border-color:#f29100}',""]),t.exports=e},2777:function(t,e,n){"use strict";n.r(e);var r=n("f88b"),a=n("7316");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("6efb");var i,u=n("f0c5"),c=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,"1144e31c",null,!1,r["a"],i);e["default"]=c.exports},"602f":function(t,e,n){"use strict";var r=n("4ea4");n("99af"),n("4160"),n("a9e3"),n("07ac"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("3835"));n("96cf");var o=r(n("1da1")),i=r(n("5530")),u=r(n("2777")),c=r(n("befa")),s=n("699d"),d=n("2f62"),l={onLoad:function(){var t=this.$Route.query.type||0;this.pageType=Number(t),console.log("pageType",this.$ux,this.pageType),this.getInit()},components:{SpecDetail:u.default,GoodsDetail:c.default},data:function(){return{pageType:0,dType:0,rType:0,durationList:[],rateList:[],originData:[],currentData:{},initData:{}}},computed:(0,i.default)((0,i.default)({},(0,d.mapGetters)("broad",["city","community","communityId"])),{},{spec:function(){return this.rateList&&this.durationList&&this.currentData?"".concat(this.rateList[this.rType],"/").concat(this.durationList[this.dType]).concat(this.currentData.unit):""},price:function(){if(!this.currentData.skuPrices)return 0;var t=this.currentData.skuPrices;if(t.length>1){for(var e=null,n=0,r=t.length;n<r;n++)if("COST_PRICE"===t[n].priceType){e=t[n];break}return e.priceValue}return t[0].priceValue}}),methods:(0,i.default)((0,i.default)({},(0,d.mapMutations)("broad",["SET_GOODS","SET_CITY_INFO"])),{},{getInit:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var n,r,o,i,u,c,d,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pageType&&t.SET_CITY_INFO(null),e.next=3,t.$ux.async((0,s.getSpecDetail)(t.pageType));case 3:n=e.sent,r=(0,a.default)(n,2),o=r[0],i=r[1],u=i.result,c=u.goodsSkus,d=u.goodsSpecMap,l=d.PERIOD,f=d.BANDWIDTH,t.durationList=l,t.rateList=f,t.initData=i.result,p=t.proGroup(c),t.currentData=p[t.dType][t.rType],t.originData=p,console.log("getSpecDetail:",o,i);case 17:case"end":return e.stop()}}),e)})))()},specChange:function(){this.currentData=this.originData[this.dType][this.rType]},proGroup:function(t){var e={};return t.forEach((function(t){e[t.unitConversion]?e[t.unitConversion].push(t):e[t.unitConversion]=[t]})),Object.values(e)},setGoods:function(){var t=(0,i.default)({goodsSalePrice:this.price,priceAdded:this.price,spec:this.spec,code:this.initData.code,goodsChannel:this.initData.goodsChannel,goodsId:this.initData.goodsId,title:this.initData.title,amount:1},this.currentData);this.SET_GOODS(t)},next:function(){this.setGoods();var t={name:"broadUserInfo"};this.pageType&&(t.name="postOrder",t.params={type:1}),console.log(t),this.$Router.push(t)}})};e.default=l},"699d":function(t,e,n){"use strict";var r=n("4ea4");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.bindBroad=e.validateCode=e.sendCode=e.queryExpireDate=e.queryBookingOrder=e.changePassword=e.createWorkOrder=e.queryInsUserByCustCertCode=e.queryBroadByBillId=e.getSpecDetail=e.queryCommunityList=e.getDistrict=e.getCHUserInfo=e.getBuyInfo=void 0;var a=r(n("871b")),o={0:"73572986-e03f-43af-93a3-000000000021",1:"73572986-e03f-43af-93a3-000000000020"},i=function(t){return a.default.get("/crm/web/insOffer/queryInsOfferByBillId?billId="+t,{custom:{module:"CHANGHONG",auth:!0}})};e.getBuyInfo=i;var u=function(t){return a.default.get("/customer/user?phoneNumber="+t,{custom:{module:"CUSTOMER",auth:!0}})};e.getCHUserInfo=u;var c=function(t){return a.default.get("/crm/queryDistrictByParentId/".concat(t),{custom:{module:"CHANGHONG",auth:!0}})};e.getDistrict=c;var s=function(t){var e=t.curPage,n=void 0===e?0:e,r=t.limit,o=void 0===r?10:r,i=t.regionId,u=void 0===i?"":i,c=t.communityName,s=void 0===c?"":c;return a.default.get("/crm/sys/queryCommunityListNew?curPage=".concat(n,"&limit=").concat(o,"&regionId=").concat(u,"&communityName=").concat(s),{custom:{module:"CHANGHONG",auth:!0}})};e.queryCommunityList=s;var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return a.default.get("/goods/goodsinfo/".concat(o[t]),{custom:{module:"GOODS",auth:!0}})};e.getSpecDetail=d;var l=function(t){return a.default.get("/crm/web/insUser/queryByBillIdAndMobile?billId="+t,{custom:{module:"CHANGHONG",auth:!0}})};e.queryBroadByBillId=l;var f=function(t){return a.default.get("/crm/web/insUser/query?custCertCode=".concat(t),{custom:{module:"CHANGHONG",auth:!0}})};e.queryInsUserByCustCertCode=f;var p=function(t){return a.default.post("/workorders",t,{custom:{module:"WORKORDER",auth:!0}})};e.createWorkOrder=p;var y=function(t,e){return a.default.post("/store/chasingHope?regionId=".concat(t),e,{custom:{module:"STORE",auth:!0}})};e.changePassword=y;var h=function(t,e){return a.default.get("/crm/order/bookings?billId=".concat(t,"&bookType=").concat(e),{custom:{module:"CHANGHONG",auth:!0}})};e.queryBookingOrder=h;var m=function(t,e){return a.default.get("/crm/order/expireDate?billId=".concat(t,"&openDate=").concat(e),{custom:{module:"CHANGHONG",auth:!0}})};e.queryExpireDate=m;var v=function(t,e){return a.default.get("/crm/web/Customers/".concat(t,"/code?regionId=").concat(e),{custom:{module:"CHANGHONG",auth:!0}})};e.sendCode=v;var g=function(t,e){return a.default.get("/crm/web/Customers/".concat(t,"/validate?code=").concat(e),{custom:{module:"CHANGHONG",auth:!0}})};e.validateCode=g;var b=function(t,e,n){return a.default.POST("/app/customer/customer/".concat(e,"?action=").concat(n),t,{custom:{module:"CUSTOMER",auth:!0}})};e.bindBroad=b},"6efb":function(t,e,n){"use strict";var r=n("98b5"),a=n.n(r);a.a},7316:function(t,e,n){"use strict";n.r(e);var r=n("b33d"),a=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},"7d26":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var r={uxLayout:n("72d3").default,uButton:n("c0df").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("spec-detail",{attrs:{title:"宽带时长",type:t.dType,list:t.durationList},on:{"update:type":function(e){arguments[0]=e=t.$handleEvent(e),t.dType=e},"spec-change":function(e){arguments[0]=e=t.$handleEvent(e),t.specChange.apply(void 0,arguments)}}}),n("spec-detail",{attrs:{title:"宽带速率",type:t.rType,list:t.rateList},on:{"update:type":function(e){arguments[0]=e=t.$handleEvent(e),t.rType=e},"spec-change":function(e){arguments[0]=e=t.$handleEvent(e),t.specChange.apply(void 0,arguments)}}}),n("goods-detail",{attrs:{title:t.currentData.simpleName,spec:t.spec,price:t.price}}),n("ux-layout",[n("u-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}},[t._v("下一步")])],1)],1)},o=[]},"804b":function(t,e,n){"use strict";n.r(e);var r=n("7d26"),a=n("ef19");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var i,u=n("f0c5"),c=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,"56b94638",null,!1,r["a"],i);e["default"]=c.exports},"98b5":function(t,e,n){var r=n("0f56");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("9387a4ec",r,!0,{sourceMap:!1,shadowMode:!1})},b33d:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"spec-detail",props:{title:{type:String,default:""},type:{type:Number,default:-1},list:{type:Array,default:function(){return new Array(0)}}},methods:{specChange:function(t){this.$emit("update:type",t),this.$emit("spec-change",t)}}};e.default=r},ef19:function(t,e,n){"use strict";n.r(e);var r=n("602f"),a=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},f88b:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var r={uCard:n("d350").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("u-card",{attrs:{border:!1,"foot-border-top":!1,"head-border-bottom":!1,"body-style":{paddingTop:0}}},[n("v-uni-view",{staticClass:"spec-head",attrs:{slot:"head"},slot:"head"},[t._v(t._s(t.title))]),n("v-uni-view",{staticClass:"card-body",attrs:{slot:"body"},slot:"body"},t._l(t.list,(function(e,r){return n("v-uni-view",{key:r,staticClass:"spec-item",class:{active:t.type===r},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.specChange(r)}}},[t._v(t._s(e))])})),1)],1)},o=[]}}]);